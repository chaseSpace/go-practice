## K6 LangChain：一个AI应用开发生态

LangChain 是一个开发框架，用来开发各种基于大模型的应用。要完整理解LangChain，需要拆分为3个部分：

- 开发框架
- 社区生态
- 扩展生态

### 1. 开发框架

作为一个框架，LangChain 最重要的价值是提供了一些开发应用所需的基础抽象和 LangChain 表达式语言。我们来看一段示例代码：

```
chain = model | parser
chain.invoke(messages)
```

这段代码的核心含义就是将一个一个组件组装到一起，形成一条链，然后，调用这条链。LangChain 应用的代码核心就是构建一条这样的链，这也是
LangChain 这个名字里 Chain 的含义。我们后面会看到的各种代码，本质上就是用各种组件组装出一条链来。

在这段代码中，用到的两个组件是**模型**和**输出结果解析器**。
当我们把消息传给这条链时，它会先调用模型根据消息生成相应的内容，然后，把这个生成的内容传给输出结果解析器，解析成我们需要的格式。

对于`model`，如常见的GPT、claude，在社区都已经实现好了，包括parser也有各种各样的，
我们只需要用上面看到的LangChain表达式语言来定义一段代码，然后，调用这个代码，就可以得到一个自定义的大模型应用了。
例如 model 可以使用 GPT，parser 可以使用JSON解析器，那么输出结果就是JSON格式的。

### 2. 社区生态

社区生态包含了大量的各种针对model和parser的实现，我们首先能想到的就是各种大模型，比如，OpenAI 的 GPT、Anthropic 的 Claude
等等，都有对应的实现，国内的很多大模型也有对应的实现。

除了大模型，其它基础抽象都有很多实现，比如，向量数据库，有 Milvus、FAISS、Qdrant、Chroma 等等，文档加载既可以加载一个 Web
页面，也可以从诸如 S3、微软 OneDrive 加载，甚至从 Twitter、Telegram 加载内容。总之，针对不同的抽象，都有对应的实现，你可以根据自己的需要在
LangChain 的集成页面上找到对应的内容。

如果说前面提到的都是直接的 LangChain 抽象实现，那还有一批实现就跳出了直接实现接口的范畴，这就是**工具**。随着 Agent
的兴起，工具成为了扩展
AI 能力的一种重要手段。天下工具如此之多，社区支持就成为了最好的选择：搜索、**代码解析**、**网页浏览**、**数据库集成**
等等，各种工具五花八门。

### 3. 扩展生态

LangChain 社区蓬勃发展，各种扩展层出不穷，但所有这些扩展都围绕着一个目标，如何构建一个链。除了构建链之外，还有什么其它事情可以做呢？

事实上，LangChain 团队确实在探索更多可做的事情，所以，在了解 LangChain 时，你会看到一些与 LangChain 相关的名字。这就是
LangChain 的拓展生态：

- LangServe，它是把 LangChain 编写的链部署成 REST API 的一个工具。因为我们编写的应用多半是以服务的方式对外提供，LangServe
  简化了 LangChain 应用服务化的门槛。不过，它更多地是面向 LangChain 的使用场景设计的，其提供的服务是否适合你的应用，还是需要根据你自己的情况评估。
- LangSmith，它是 LangChain 团队提供的一个SaaS平台，帮助开发者调试、追踪、测试、评估和监控基于大模型的应用。
- LangGraph，它提供了又一种构建 Agent 的方式，把 Agent 的状态流转构建成一个图。LangChain 团队甚至构建了一个 IDE：LangGraph
  Studio，简化这个图的构建过程。


## K7 -LangChain：核心抽象

